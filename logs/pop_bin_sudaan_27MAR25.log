NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.04 seconds
      cpu time            0.07 seconds
      

2                                                          The SAS System                             15:11 Thursday, March 27, 2025

18         
19         *********************************************************************************************************
20         
21                 PROGRAM NAME: pop_bin_sudaan.sas
22         
23                 SOURCE:
24         
25                 DESCRIPTION:   Fit the binary model on the population data and
26         							get the true coefficients for inference
27         
28                 VERSION CONTROL:
29         							27mar25: create file						
30         
31         *********************************************************************************************************;
32         * Set system options;
33         options mergenoby=warn ls=95 ps=54 nodate mprint formchar="|----|+|---+=|-/\<>*";
34         
35         * Import .csv dataset;
36         proc import datafile="&popfile" out=pop_data(keep=bgid hhid subid y_bmi y_gfr
36       ! y_bin_gfr x12
37                 x17 x18 x14 x6 age_base strat hisp_strat v_num) dbms=csv replace;
38                 getnames=yes;
39                 guessingrows=100;
40         run;

41          /**********************************************************************
42          *   PRODUCT:   SAS
43          *   VERSION:   9.4
44          *   CREATOR:   External File Interface
45          *   DATE:      27MAR25
46          *   DESC:      Generated SAS Datastep Code
47          *   TEMPLATE SOURCE:  (None Specified.)
48          ***********************************************************************/
49             data WORK.POP_DATA (keep=bgid hhid subid y_bmi y_gfr y_bin_gfr x12         x17
49       ! x18 x14 x6 age_base strat hisp_strat v_num)   ;
50             %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
51             infile
51       ! 'J:/HCHS/STATISTICS/GRAS/QAngarita/HCHS_simulation/data/raw/pop/population_3visits_D
51       ! ec2024.csv' delimiter = ',' MISSOVER DSD lrecl=32767 firstobs=2 ;
52                informat strat best32. ;
53                informat BGid best32. ;
54                informat hhid best32. ;
55                informat subid best32. ;
56                informat v_num best32. ;
57                informat hisp_strat $4. ;
58                informat age_base best32. ;
59                informat age_strat $5. ;
60                informat x0 best32. ;
61                informat x1 best32. ;
62                informat x2 best32. ;
63                informat x3 best32. ;
64                informat x4 best32. ;
3                                       The SAS System

65                informat x6 best32. ;
66                informat x8 best32. ;
67                informat x12 best32. ;
68                informat x13 best32. ;
69                informat x14 best32. ;
70                informat x15 best32. ;
71                informat x17 best32. ;
72                informat x18 best32. ;
73                informat y_bmi best32. ;
74                informat y_gfr best32. ;
75                informat y_bin_gfr best32. ;
76                format strat best12. ;
77                format BGid best12. ;
78                format hhid best12. ;
79                format subid best12. ;
80                format v_num best12. ;
81                format hisp_strat $4. ;
82                format age_base best12. ;
83                format age_strat $5. ;
84                format x0 best12. ;
85                format x1 best12. ;
86                format x2 best12. ;
87                format x3 best12. ;
88                format x4 best12. ;
89                format x6 best12. ;
90                format x8 best12. ;
91                format x12 best12. ;
92                format x13 best12. ;
93                format x14 best12. ;
94                format x15 best12. ;
95                format x17 best12. ;
96                format x18 best12. ;
97                format y_bmi best12. ;
98                format y_gfr best12. ;
99                format y_bin_gfr best12. ;
100            input
101                        strat
102                        BGid
103                        hhid
104                        subid
105                        v_num
106                        hisp_strat $
107                        age_base
108                        age_strat $
109                        x0
110                        x1
111                        x2
112                        x3
113                        x4
114                        x6
115                        x8
116                        x12
4                                       The SAS System

117                        x13
118                        x14
119                        x15
120                        x17
121                        x18
122                        y_bmi
123                        y_gfr
124                        y_bin_gfr
125            ;
126            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro
126      ! variable */
127            run;

NOTE: The infile 
      'J:/HCHS/STATISTICS/GRAS/QAngarita/HCHS_simulation/data/raw/pop/population_3visits_Dec202
      4.csv' is:
      
      Filename=J:\HCHS\STATISTICS\GRAS\QAngarita\HCHS_simulation\data\raw\pop\population_3visit
      s_Dec2024.csv,
      RECFM=V,LRECL=32767,
      File Size (bytes)=632339201,
      Last Modified=27Feb2025:13:56:25,
      Create Time=27Feb2025:13:56:05

NOTE: 3800943 records were read from the infile 
      'J:/HCHS/STATISTICS/GRAS/QAngarita/HCHS_simulation/data/raw/pop/population_3visits_Dec202
      4.csv'.
      The minimum record length was 143.
      The maximum record length was 177.
NOTE: The data set WORK.POP_DATA has 3800943 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           14.14 seconds
      cpu time            6.23 seconds
      

3800943 rows created in WORK.POP_DATA from 
J:/HCHS/STATISTICS/GRAS/QAngarita/HCHS_simulation/data/raw/pop/population_3visits_Dec2024.csv.
  
  
  
NOTE: WORK.POP_DATA data set was successfully created.
NOTE: The data set WORK.POP_DATA has 3800943 observations and 15 variables.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           14.83 seconds
      cpu time            6.26 seconds
      

128        
129        * Derive age_strat_new and hisp_strat_new dataset;
130        data pop;
131                set pop_data;
132                age_strat_new=1*(age_base>=45);
5                                       The SAS System

133                hisp_strat_new=1*(hisp_strat='TRUE');
134        		
135        		if strat in (1,5) then strat_recoded = 1;
136        		else if strat in (2,6) then strat_recoded = 2;
137        		else if strat in (3,7) then strat_recoded = 3;
138        		else if strat in (4,8) then strat_recoded = 4;
139        run;

NOTE: There were 3800943 observations read from the data set WORK.POP_DATA.
NOTE: The data set WORK.POP has 3800943 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           1.87 seconds
      cpu time            0.76 seconds
      

140        proc sort data = pop; by strat_recoded; run;

NOTE: There were 3800943 observations read from the data set WORK.POP.
NOTE: The data set WORK.POP has 3800943 observations and 18 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           1:28.34
      cpu time            1.65 seconds
      

141        
142        * Macro that fit a SUDAAN model with a continuous normal response;
143        %macro pop(corr=);
144        	options pagesize=60 linesize=80;
145        	proc rlogist data = pop filetype=sas r=&corr semethod=zeger;
146        		%if &corr. = exchangeable %then %do;
147        			nest strat_recoded bgid hhid / psulev=2 ;
148        		%end;
149        		%else %do;
150        			nest strat_recoded bgid hhid;
151        		%end;
152        		weight _one_;
153        		model y_bin_gfr = x17 x12 x18 y_bmi age_strat_new x6;
154        		output beta sebeta p_beta t_beta / filename=betas_&corr. filetype=sas replace;
155        	run;
156        	* Append parameter names to sudaan output;
157        	data betas_b.betas_pop_bin_&corr;
158        		merge betas_&corr.(rename=(BETA=Estimate SEBETA=Stderr P_BETA=ProbZ t_beta=t))
158      ! parms;
159        		by modelrhs;
160        		length parm $ 20;
161        		drop procnum modelno modelrhs;
162        	run;
163        %mend pop;
164        
165        * Create dataset with parms labels;
166        data parms;
167        length Parm $ 15;
6                                       The SAS System

168        input modelrhs parm $;
169        datalines;

NOTE: The data set WORK.PARMS has 7 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.11 seconds
      cpu time            0.01 seconds
      

177        ;
178        run;
179        
180        * Run SUDAAN macro;
181        title '[SUDAAN]Independent correlation structure';
182        	%pop(corr=independent);
MPRINT(POP):   options pagesize=60 linesize=80;
MPRINT(POP):   proc rlogist data = pop filetype=sas r=independent 
semethod=zeger;
MPRINT(POP):   nest strat_recoded bgid hhid;
MPRINT(POP):   weight _one_;
MPRINT(POP):   model y_bin_gfr = x17 x12 x18 y_bmi age_strat_new x6;
MPRINT(POP):   output beta sebeta p_beta t_beta / filename=betas_independent 
filetype=sas replace;
MPRINT(POP):   run;

 
************************************************************
SUDAAN Release 11.0.3, Build 331
SAS-Callable, Individual PC, 32 bit version
Serial Number A0004505 for 10 user(s) is licensed to
UNC-CH (CSCC).
This license expires on October 16, 2025.
************************************************************
 
 
 
 
SEMANTIC WARNING
:
For with replacement designs, the number of NEST variables
should equal the PSU level
 
Opened SAS data file POP for reading.
 
Opened SAS data file BETAS_INDEPENDENT for writing.
Note:
 7 records written to file BETAS_INDEPENDENT
NOTE: The PROCEDURE RLOGIST printed pages 1-5.
NOTE: PROCEDURE RLOGIST used (Total process time):
      real time           34.98 seconds
      cpu time            28.06 seconds
      

MPRINT(POP):   * Append parameter names to sudaan output;
MPRINT(POP):   data betas_b.betas_pop_bin_independent;
MPRINT(POP):   merge betas_independent(rename=(BETA=Estimate SEBETA=Stderr 
P_BETA=ProbZ t_beta=t)) parms;
MPRINT(POP):   by modelrhs;
7                                The SAS System

MPRINT(POP):   length parm $ 20;
WARNING: Length of character variable Parm has already been set. 
         Use the LENGTH statement as the very first statement in the DATA STEP 
         to declare the length of a character variable.
MPRINT(POP):   drop procnum modelno modelrhs;
MPRINT(POP):   run;

NOTE: There were 7 observations read from the data set WORK.BETAS_INDEPENDENT.
NOTE: There were 7 observations read from the data set WORK.PARMS.
NOTE: The data set BETAS_B.BETAS_POP_BIN_INDEPENDENT has 7 observations and 5 
      variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.01 seconds
      

183        title '[SUDAAN]Exchangeable correlation structure';
184        	%pop(corr=exchangeable);
MPRINT(POP):   options pagesize=60 linesize=80;
MPRINT(POP):   proc rlogist data = pop filetype=sas r=exchangeable 
semethod=zeger;
MPRINT(POP):   nest strat_recoded bgid hhid / psulev=2 ;
MPRINT(POP):   weight _one_;
MPRINT(POP):   model y_bin_gfr = x17 x12 x18 y_bmi age_strat_new x6;
MPRINT(POP):   output beta sebeta p_beta t_beta / filename=betas_exchangeable 
filetype=sas replace;
MPRINT(POP):   run;

 
************************************************************
SUDAAN Release 11.0.3, Build 331
SAS-Callable, Individual PC, 32 bit version
Serial Number A0004505 for 10 user(s) is licensed to
UNC-CH (CSCC).
This license expires on October 16, 2025.
************************************************************
 
 
 
 
NOTE: The number of NEST variables (3) is greater than PSULEV (2).  The
variances will be computed
 between clusters defined by the variable BGID, whereas the intraclass
correlations will be computed within
 the variable HHID
 
 
Opened SAS data file POP for reading.
 
Opened SAS data file BETAS_EXCHANGEABLE for writing.
Note:
 7 records written to file BETAS_EXCHANGEABLE
NOTE: The PROCEDURE RLOGIST printed pages 6-10.
NOTE: PROCEDURE RLOGIST used (Total process time):
      real time           46.03 seconds
      cpu time            40.54 seconds
      

8                                The SAS System

MPRINT(POP):   * Append parameter names to sudaan output;
MPRINT(POP):   data betas_b.betas_pop_bin_exchangeable;
MPRINT(POP):   merge betas_exchangeable(rename=(BETA=Estimate SEBETA=Stderr 
P_BETA=ProbZ t_beta=t)) parms;
MPRINT(POP):   by modelrhs;
MPRINT(POP):   length parm $ 20;
WARNING: Length of character variable Parm has already been set. 
         Use the LENGTH statement as the very first statement in the DATA STEP 
         to declare the length of a character variable.
MPRINT(POP):   drop procnum modelno modelrhs;
MPRINT(POP):   run;

NOTE: There were 7 observations read from the data set WORK.BETAS_EXCHANGEABLE.
NOTE: There were 7 observations read from the data set WORK.PARMS.
NOTE: The data set BETAS_B.BETAS_POP_BIN_EXCHANGEABLE has 7 observations and 5 
      variables.
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.00 seconds
      

185        
186        proc printto; run;

