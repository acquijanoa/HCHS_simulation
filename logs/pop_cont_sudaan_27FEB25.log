NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

17         
18         *********************************************************************************************************
19         
20                 PROGRAM NAME: pop_cont_sudaan.sas
21         
2                                                          The SAS System                          16:48 Thursday, February 27, 2025

22                 SOURCE:
23         
24                 DESCRIPTION:   Fit the continuos model on the population data and
25         							get the true coefficients for inference
26         
27                 VERSION CONTROL:
28         							27feb25: create file						
29         
30         *********************************************************************************************************;
31         * Set system options;
32         options mergenoby=warn ls=95 ps=54 nodate mprint formchar="|----|+|---+=|-/\<>*";
33         
34         * Call libraries in;
35         * libname home "&homepath"; * this is sample now;
36         * libname output "&homepath./sasdata"; * ;
37         
38         * Import .csv dataset;
39         proc import datafile="&popfile" out=pop_data(keep=bgid hhid subid y_bmi y_gfr x12
40                 x17 x18 x14 x6 age_base strat hisp_strat v_num) dbms=csv replace;
41                 getnames=yes;
42                 guessingrows=100;
43         run;

44          /**********************************************************************
45          *   PRODUCT:   SAS
46          *   VERSION:   9.4
47          *   CREATOR:   External File Interface
48          *   DATE:      27FEB25
49          *   DESC:      Generated SAS Datastep Code
50          *   TEMPLATE SOURCE:  (None Specified.)
51          ***********************************************************************/
52             data WORK.POP_DATA (keep=bgid hhid subid y_bmi y_gfr x12         x17 x18 x14 x6
52       ! age_base strat hisp_strat v_num)   ;
53             %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
54             infile
54       ! 'J:/HCHS/STATISTICS/GRAS/QAngarita/HCHS_simulation/data/raw/pop/population_3visits_D
54       ! ec2024.csv' delimiter = ',' MISSOVER DSD lrecl=32767 firstobs=2 ;
55                informat strat best32. ;
56                informat BGid best32. ;
57                informat hhid best32. ;
58                informat subid best32. ;
59                informat v_num best32. ;
60                informat hisp_strat $4. ;
61                informat age_base best32. ;
62                informat age_strat $5. ;
63                informat x0 best32. ;
64                informat x1 best32. ;
65                informat x2 best32. ;
66                informat x3 best32. ;
67                informat x4 best32. ;
68                informat x6 best32. ;
69                informat x8 best32. ;
3                                       The SAS System

70                informat x12 best32. ;
71                informat x13 best32. ;
72                informat x14 best32. ;
73                informat x15 best32. ;
74                informat x17 best32. ;
75                informat x18 best32. ;
76                informat y_bmi best32. ;
77                informat y_gfr best32. ;
78                informat y_bin_gfr best32. ;
79                format strat best12. ;
80                format BGid best12. ;
81                format hhid best12. ;
82                format subid best12. ;
83                format v_num best12. ;
84                format hisp_strat $4. ;
85                format age_base best12. ;
86                format age_strat $5. ;
87                format x0 best12. ;
88                format x1 best12. ;
89                format x2 best12. ;
90                format x3 best12. ;
91                format x4 best12. ;
92                format x6 best12. ;
93                format x8 best12. ;
94                format x12 best12. ;
95                format x13 best12. ;
96                format x14 best12. ;
97                format x15 best12. ;
98                format x17 best12. ;
99                format x18 best12. ;
100               format y_bmi best12. ;
101               format y_gfr best12. ;
102               format y_bin_gfr best12. ;
103            input
104                        strat
105                        BGid
106                        hhid
107                        subid
108                        v_num
109                        hisp_strat $
110                        age_base
111                        age_strat $
112                        x0
113                        x1
114                        x2
115                        x3
116                        x4
117                        x6
118                        x8
119                        x12
120                        x13
121                        x14
4                                       The SAS System

122                        x15
123                        x17
124                        x18
125                        y_bmi
126                        y_gfr
127                        y_bin_gfr
128            ;
129            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro
129      ! variable */
130            run;

NOTE: The infile 
      'J:/HCHS/STATISTICS/GRAS/QAngarita/HCHS_simulation/data/raw/pop/population_3visits_Dec202
      4.csv' is:
      
      Filename=J:\HCHS\STATISTICS\GRAS\QAngarita\HCHS_simulation\data\raw\pop\population_3visit
      s_Dec2024.csv,
      RECFM=V,LRECL=32767,
      File Size (bytes)=632339201,
      Last Modified=27Feb2025:13:56:25,
      Create Time=27Feb2025:13:56:05

NOTE: 3800943 records were read from the infile 
      'J:/HCHS/STATISTICS/GRAS/QAngarita/HCHS_simulation/data/raw/pop/population_3visits_Dec202
      4.csv'.
      The minimum record length was 143.
      The maximum record length was 177.
NOTE: The data set WORK.POP_DATA has 3800943 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           12.60 seconds
      cpu time            5.84 seconds
      

3800943 rows created in WORK.POP_DATA from 
J:/HCHS/STATISTICS/GRAS/QAngarita/HCHS_simulation/data/raw/pop/population_3visits_Dec2024.csv.
  
  
  
NOTE: WORK.POP_DATA data set was successfully created.
NOTE: The data set WORK.POP_DATA has 3800943 observations and 14 variables.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           13.12 seconds
      cpu time            5.89 seconds
      

131        
132        * Derive age_strat_new and hisp_strat_new dataset;
133        data pop;
134                set pop_data;
135                age_strat_new=1*(age_base>=45);
136                hisp_strat_new=1*(hisp_strat='TRUE');
137        		
5                                       The SAS System

138        		if strat in (1,5) then strat_recoded = 1;
139        		else if strat in (2,6) then strat_recoded = 2;
140        		else if strat in (3,7) then strat_recoded = 3;
141        		else if strat in (4,8) then strat_recoded = 4;
142        run;

NOTE: There were 3800943 observations read from the data set WORK.POP_DATA.
NOTE: The data set WORK.POP has 3800943 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           1.46 seconds
      cpu time            0.89 seconds
      

143        proc sort data = pop; by strat_recoded; run;

NOTE: There were 3800943 observations read from the data set WORK.POP.
NOTE: The data set WORK.POP has 3800943 observations and 17 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           37.35 seconds
      cpu time            2.56 seconds
      

144        
145        * Macro that fit a GENMOD model with a continuous normal response;
146        %macro pop(corr=);
147        	options pagesize=60 linesize=80;
148        	proc regress data = pop filetype=sas r=&corr semethod=zeger;
149        		%if &corr. = exchangeable %then %do;
150        			nest strat_recoded bgid hhid / psulev=2 ;
151        		%end;
152        		%else %do;
153        			nest strat_recoded bgid hhid;
154        		%end;
155        		weight _one_;
156        		model y_gfr = x17 x12 x18 y_bmi age_strat_new x6;
157        		output beta sebeta p_beta t_beta / filename=betas_&corr. filetype=sas replace;
158        	run;
159        
160        	* Append parameter names to sudaan output;
161        	data dt_betas.betas_pop_&corr;
162        		merge betas_&corr.(rename=(BETA=Estimate SEBETA=Stderr P_BETA=ProbZ t_beta=t))
162      ! parms;
163        		by modelrhs;
164        		length parm $ 20;
165        		drop procnum modelno modelrhs;
166        	run;
167        %mend pop;
168        
169        * Create dataset with parms labels;
170        data parms;
171        length Parm $ 15;
172        input modelrhs parm $;
6                                       The SAS System

173        datalines;

NOTE: The data set WORK.PARMS has 7 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

181        ;
182        run;
183        
184        * Run SUDAAN macro;
185        title '[SUDAAN]Independent correlation structure';
186        	%pop(corr=independent);
MPRINT(POP):   options pagesize=60 linesize=80;
MPRINT(POP):   proc regress data = pop filetype=sas r=independent 
semethod=zeger;
MPRINT(POP):   nest strat_recoded bgid hhid;
MPRINT(POP):   weight _one_;
MPRINT(POP):   model y_gfr = x17 x12 x18 y_bmi age_strat_new x6;
MPRINT(POP):   output beta sebeta p_beta t_beta / filename=betas_independent 
filetype=sas replace;
MPRINT(POP):   run;

 
************************************************************
SUDAAN Release 11.0.3, Build 331
SAS-Callable, Individual PC, 32 bit version
Serial Number A0004505 for 10 user(s) is licensed to
UNC-CH (CSCC).
This license expires on October 16, 2025.
************************************************************
 
 
 
 
SEMANTIC WARNING
:
For with replacement designs, the number of NEST variables
should equal the PSU level
 
Opened SAS data file POP for reading.
 
Opened SAS data file BETAS_INDEPENDENT for writing.
Note:
 7 records written to file BETAS_INDEPENDENT
NOTE: The PROCEDURE REGRESS printed pages 1-4.
NOTE: PROCEDURE REGRESS used (Total process time):
      real time           24.13 seconds
      cpu time            18.03 seconds
      

MPRINT(POP):   * Append parameter names to sudaan output;
MPRINT(POP):   data dt_betas.betas_pop_independent;
MPRINT(POP):   merge betas_independent(rename=(BETA=Estimate SEBETA=Stderr 
P_BETA=ProbZ t_beta=t)) parms;
MPRINT(POP):   by modelrhs;
MPRINT(POP):   length parm $ 20;
7                                The SAS System

WARNING: Length of character variable Parm has already been set. 
         Use the LENGTH statement as the very first statement in the DATA STEP 
         to declare the length of a character variable.
MPRINT(POP):   drop procnum modelno modelrhs;
MPRINT(POP):   run;

NOTE: There were 7 observations read from the data set WORK.BETAS_INDEPENDENT.
NOTE: There were 7 observations read from the data set WORK.PARMS.
NOTE: The data set DT_BETAS.BETAS_POP_INDEPENDENT has 7 observations and 5 
      variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

187        title '[SUDAAN]Exchangeable correlation structure';
188        	%pop(corr=exchangeable);
MPRINT(POP):   options pagesize=60 linesize=80;
MPRINT(POP):   proc regress data = pop filetype=sas r=exchangeable 
semethod=zeger;
MPRINT(POP):   nest strat_recoded bgid hhid / psulev=2 ;
MPRINT(POP):   weight _one_;
MPRINT(POP):   model y_gfr = x17 x12 x18 y_bmi age_strat_new x6;
MPRINT(POP):   output beta sebeta p_beta t_beta / filename=betas_exchangeable 
filetype=sas replace;
MPRINT(POP):   run;

 
************************************************************
SUDAAN Release 11.0.3, Build 331
SAS-Callable, Individual PC, 32 bit version
Serial Number A0004505 for 10 user(s) is licensed to
UNC-CH (CSCC).
This license expires on October 16, 2025.
************************************************************
 
 
 
 
NOTE: The number of NEST variables (3) is greater than PSULEV (2).  The
variances will be computed
 between clusters defined by the variable BGID, whereas the intraclass
correlations will be computed within
 the variable HHID
 
 
Opened SAS data file POP for reading.
 
Opened SAS data file BETAS_EXCHANGEABLE for writing.
Note:
 7 records written to file BETAS_EXCHANGEABLE
NOTE: The PROCEDURE REGRESS printed pages 5-8.
NOTE: PROCEDURE REGRESS used (Total process time):
      real time           25.90 seconds
      cpu time            20.23 seconds
      

MPRINT(POP):   * Append parameter names to sudaan output;
8                                The SAS System

MPRINT(POP):   data dt_betas.betas_pop_exchangeable;
MPRINT(POP):   merge betas_exchangeable(rename=(BETA=Estimate SEBETA=Stderr 
P_BETA=ProbZ t_beta=t)) parms;
MPRINT(POP):   by modelrhs;
MPRINT(POP):   length parm $ 20;
WARNING: Length of character variable Parm has already been set. 
         Use the LENGTH statement as the very first statement in the DATA STEP 
         to declare the length of a character variable.
MPRINT(POP):   drop procnum modelno modelrhs;
MPRINT(POP):   run;

NOTE: There were 7 observations read from the data set WORK.BETAS_EXCHANGEABLE.
NOTE: There were 7 observations read from the data set WORK.PARMS.
NOTE: The data set DT_BETAS.BETAS_POP_EXCHANGEABLE has 7 observations and 5 
      variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

189        
190        proc printto; run;

